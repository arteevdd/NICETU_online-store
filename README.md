# Прототип интернет-магазина
## Требования
1. Необходимо спроектировать модель данных и схему БД на основе описания функционала
интернет-магазина. Желательно отобразить спроектированную модель данных на соответствующей
диаграмме.
2. Реализовать 4 веб-страницы интернет-магазина, описанные выше. Предпочтительно использовать
   Vue.js или другую современную frontend технологию. Общение с серверной частью через HTTP API,
   которое должно быть Stateless.
3. Серверная часть должна быть написана с использованием Java 8.
4. Использовать JWT токен для авторизации/аутентификации.
5. Использовать Spring 5 как базовый application framework.
6. Взаимодействие с БД с помощью JPA (провайдер - Hibernate). СУБД – PostgreSQL.
7. Необходимо обогатить базу данных продуктами/категориями/ценами/остатками и т.п., чтобы на
   сайте были как минимум товары, представленные в описании задачи.
8. Поля в карточках должны валидироваться в соответствии с форматами данных, установленными в
   БД.
9. Исходные коды должны быть в Git. Желательно делать частые информативные коммиты, активно
   использовать ветки.
10. Развертывание приложения – в Docker-контейнер.
11. Должен быть описан порядок развертывания и запуска проекта в среде разработки (включая
    настройку БД, дамп схемы БД, настройку сервера приложения для запуска и т.д.).
12. Сервисы (серверная часть) должны быть максимально покрыты модульными тестами.

## Инструкция по развертыванию сервисов
### 1) Установка Docker
Для развертывания сервисов необходимо, чтобы на данной машине был установлен [`Docker`](https://ru.wikipedia.org/wiki/Docker).

Инструкция по установке Docker для различных ОС:
* [Linux](https://docs.docker.com/desktop/install/linux-install/)
* [Windows](https://docs.docker.com/desktop/install/windows-install/)
* [Mac](https://docs.docker.com/desktop/install/mac-install/)

### 2) Запуск сервисов
1) Склонируйте репозиторий, выполнив команду `git clone https://github.com/arteevdd/NICETU_online-store.git`.
2) В корневой директории проекта выполните команду `docker-compose up --build`.

   Первый запуск будет долгим, т.к. требуется загрузить все необходимые зависимости, указанные в [`pom.xml`](https://github.com/arteevdd/NICETU_online-store/blob/master/pom.xml), из [`Maven Repository`](https://mvnrepository.com).
   После успешного развертывания сервисов будет доступен сайт: http://localhost:8081/. Для проверки статуса запускаемых контейнеров необходимо использовать команду `docker ps -a`.
   При необходимости просмотра происходящего внутри контейнера используйте команду  `docker logs <container_name>` или `docker logs <container_id>` .

## Структура приложения:
Приложение состоит из трех контейнеров, описанных в [`docker-compose.yml`](https://github.com/arteevdd/NICETU_online-store/blob/master/docker-compose.yml):
1) backend - проект, написанный на Java 8 с использованием Spring 5, разворачивается на порту 8080.
2) frontend - проект, написанный на JS и Vue.js, разворачивается на порту 8081.
3) store_db - база данных `postgres:14.7`, образ берется с [DockerHub](https://hub.docker.com/).

## Архитектура базы данных:
Схема базы данных представлена ниже, с более детальной настройкой базы данных можно ознакомиться [здесь](https://github.com/arteevdd/NICETU_online-store/blob/master/src/main/resources/db/migration/V1__model_init.sql).
![Архитектура базы данных](store_db.drawio.svg)

## Тестирование приложения
Ознакомиться с тестами для backend-части можно [здесь](https://github.com/arteevdd/NICETU_online-store/blob/master/TESTS.md).